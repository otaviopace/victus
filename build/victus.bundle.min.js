// victus | (c) 2019 sporeball | MIT license
!function(t){window.victus=t()}((function(){return function t(e,i,s){function o(h,n){var u=i[h]={exports:{}};e[h][0].call(u.exports,(function(t){return o(t)}),u,u.exports,t,e,i,s);return i[h].exports}return o}({1:[function(t,e,s){var o,r,h,n,l,u;setup=t=>{o=document.getElementById(t.id),r=o.getContext("2d"),h=t.width,n=t.height,o.width=h,o.height=n,l=t.clearColor||"#fff"};class f{constructor(t,e){this.x=t,this.y=e,this.xVelocity=0,this.yVelocity=0}moveTo(t,e){this.x=t,this.y=e}moveBy(t,e){this.x+=t,this.y+=e}clone(){return c(this)}u(){this.x+=this.xVelocity,this.y+=this.yVelocity}}clear=()=>{r.fillStyle=l,r.fillRect(0,0,h,n)},c=t=>{var e,s;if("object"!=typeof t)return t;for(i in s=Object.getPrototypeOf(t),e=Object.create(s),t)e[i]=c(t[i]);return e},document.body.onclick=()=>{u=!0},s.setup=setup,s.Rect=class extends f{constructor(t,e,i,s,o){super(t,e),this.w=i,this.h=s,this.color=o}draw(){this.u(),r.fillStyle=this.color,r.fillRect(this.x,this.y,this.w,this.h)}},s.Ellipse=class extends f{constructor(t,e,i,s,o){super(t,e),this.w=i,this.h=s,this.color=o}draw(){this.u(),r.fillStyle=this.color,r.beginPath(),r.ellipse(this.x,this.y,this.w,this.h,0,0,2*Math.PI),r.closePath(),r.fill()}},s.Sprite=class extends f{constructor(t,e,i){super(e,i),this.sprite=t,this.d=new Image,this.d.src=this.sprite}draw(){this.u(),r.drawImage(this.d,this.x,this.y)}},s.Text=class extends f{constructor(t,e,i,s=16,o="#000",r="Arial",h="left"){super(e,i),this.string=t,this.size=s,this.color=o,this.font=r,this.align=h}draw(){r.fillStyle=this.color,r.font=this.size+"px "+this.font,r.textAlign=this.align,r.fillText(this.string,this.x,this.y)}},s.Sound=class{constructor(t,e,i=0){this.sound=t,this.vol=e,this.d=new Audio(this.sound),this.d.loop=i}reset(){this.d.load()}play(){u&&(this.d.volume=this.vol,this.d.play())}pause(){this.d.pause()}},s.clear=clear},{}]},{},[1])(1)}));
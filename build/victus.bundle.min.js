// victus | (c) 2019 sporeball | MIT license
!function(t){window.victus=t()}((function(){return function t(i,s,e){function h(o,n){var f=s[o]={exports:{}};i[o][0].call(f.exports,(function(t){return h(t)}),f,f.exports,t,i,s,e);return s[o].exports}return h}({1:[function(t,s,e){var h,r,o,n,l,f;setup=t=>{h=document.getElementById(t.id),r=h.getContext("2d"),o=t.w,n=t.h,h.width=o,h.height=n,l=t.color||"#fff"};class u{constructor(t,i){this.x=t,this.y=i,this.xv=0,this.yv=0}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}hide(){null!=this.a?this.a=l:this.a=0}show(){null!=this.a?this.a=this.col:this.a=1}clone(){return c(this)}u(){this.x+=this.xv,this.y+=this.yv}}clear=()=>{r.fillStyle=l,r.fillRect(0,0,o,n)};var d={LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown"};for(let t=0;t<26;t++){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZ".slice(t,t+1);d[i]="Key"+i}c=t=>{var s,e;if("object"!=typeof t)return t;for(i in e=Object.getPrototypeOf(t),s=Object.create(e),t)s[i]=c(t[i]);return s},document.body.onclick=()=>{f=1},x=()=>r,e.setup=setup,e.Rect=class extends u{constructor(t,i,s,e,h){super(t,i),this.w=s,this.h=e,this.col=this.a=h}draw(){this.u(),r.fillStyle=this.a,r.fillRect(this.x,this.y,this.w,this.h)}},e.Ellipse=class extends u{constructor(t,i,s,e,h){super(t,i),this.w=s,this.h=e,this.col=this.a=h}draw(){this.u(),r.fillStyle=this.a,r.beginPath(),r.ellipse(this.x,this.y,this.w,this.h,0,0,2*Math.PI),r.closePath(),r.fill()}},e.Sprite=class extends u{constructor(t,i,s){super(i,s),this.spr=t,this.s=1,this.d=new Image,this.d.src=this.spr}draw(){this.u(),this.s?r.drawImage(this.d,this.x,this.y):r.fillRect(this.x,this.y,this.d.width,this.d.height)}},e.Text=class extends u{constructor(t,i,s,e=16,h="#000",r="Arial",o="left"){super(i,s),this.str=t,this.size=e,this.col=this.a=h,this.font=r,this.align=o}draw(){r.fillStyle=this.a,r.font=this.size+"px "+this.font,r.textAlign=this.align,r.fillText(this.str,this.x,this.y)}},e.Sound=class{constructor(t,i,s=0){this.snd=t,this.vol=i,this.d=new Audio(this.snd),this.d.loop=s}reset(){this.d.load()}play(){this.reset(),this.d.volume=this.vol,f&&this.d.play()}pause(){this.d.pause()}},e.clear=clear,e.keys=d,e.x=x}]},[1])(1)}));
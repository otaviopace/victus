// victus | (c) 2019 sporeball | MIT license
!function(t){window.victus=t()}((function(){return function t(i,s,e){function h(r,n){var u=s[r]={exports:{}};i[r][0].call(u.exports,(function(t){return h(t)}),u,u.exports,t,i,s,e);return s[r].exports}return h}({1:[function(t,s,e){var h,o,r,n,l,u;setup=t=>{h=document.getElementById(t.id),o=h.getContext("2d"),r=t.w,n=t.h,h.width=r,h.height=n,l=t.color||"#fff"};class f{constructor(t,i){this.x=t,this.y=i,this.xv=0,this.yv=0}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}hide(){null!=this.a?this.a=l:this.a=0}show(){null!=this.a?this.a=this.col:this.a=1}clone(){return c(this)}u(){this.x+=this.xv,this.y+=this.yv}}clear=()=>{o.fillStyle=l,o.fillRect(0,0,r,n)},x=()=>o,c=t=>{var s,e;if("object"!=typeof t)return t;for(i in e=Object.getPrototypeOf(t),s=Object.create(e),t)s[i]=c(t[i]);return s},document.body.onclick=()=>{u=1},e.setup=setup,e.Rect=class extends f{constructor(t,i,s,e,h){super(t,i),this.w=s,this.h=e,this.col=this.a=h}draw(){this.u(),o.fillStyle=this.a,o.fillRect(this.x,this.y,this.w,this.h)}},e.Ellipse=class extends f{constructor(t,i,s,e,h){super(t,i),this.w=s,this.h=e,this.col=this.a=h}draw(){this.u(),o.fillStyle=this.a,o.beginPath(),o.ellipse(this.x,this.y,this.w,this.h,0,0,2*Math.PI),o.closePath(),o.fill()}},e.Sprite=class extends f{constructor(t,i,s){super(i,s),this.spr=t,this.s=1,this.d=new Image,this.d.src=this.spr}draw(){this.u(),this.s?o.drawImage(this.d,this.x,this.y):o.fillRect(this.x,this.y,this.d.width,this.d.height)}},e.Text=class extends f{constructor(t,i,s,e=16,h="#000",o="Arial",r="left"){super(i,s),this.str=t,this.size=e,this.col=this.a=h,this.font=o,this.align=r}draw(){o.fillStyle=this.a,o.font=this.size+"px "+this.font,o.textAlign=this.align,o.fillText(this.str,this.x,this.y)}},e.Sound=class{constructor(t,i,s=0){this.snd=t,this.vol=i,this.d=new Audio(this.snd),this.d.loop=s}reset(){this.d.load()}play(){u&&(this.reset(),this.d.volume=this.vol,this.d.play())}pause(){this.d.pause()}},e.clear=clear,e.x=x}]},[1])(1)}));